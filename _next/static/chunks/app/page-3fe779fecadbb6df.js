(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7108:function(e,t,a){Promise.resolve().then(a.bind(a,1470))},1470:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return P}});var r=a(7437),s=a(2265),i=a(1994),l=a(3335);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,l.m6)((0,i.W)(t))}let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:n("rounded-lg border bg-card text-card-foreground shadow-sm",a),...s})});d.displayName="Card";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:n("flex flex-col space-y-1.5 p-6",a),...s})});o.displayName="CardHeader";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:n("text-2xl font-semibold leading-none tracking-tight",a),...s})});c.displayName="CardTitle",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:n("text-sm text-muted-foreground",a),...s})}).displayName="CardDescription";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:n("p-6 pt-0",a),...s})});u.displayName="CardContent",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:n("flex items-center p-6 pt-0",a),...s})}).displayName="CardFooter";var f=a(9707);let m=f.fC,x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(f.aV,{ref:t,className:n("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...s})});x.displayName=f.aV.displayName;let g=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(f.xz,{ref:t,className:n("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...s})});g.displayName=f.xz.displayName;let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(f.VY,{ref:t,className:n("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...s})});p.displayName=f.VY.displayName;var h=a(5819);let v=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:n("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:t,...i})});v.displayName="Input";var b=a(7053),j=a(535);let N=(0,j.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),y=s.forwardRef((e,t)=>{let{className:a,variant:s,size:i,asChild:l=!1,...d}=e,o=l?b.g7:"button";return(0,r.jsx)(o,{className:n(N({variant:s,size:i,className:a})),ref:t,...d})});function w(){let[e,t]=(0,s.useState)(""),[a,i]=(0,s.useState)(""),l=(0,s.useRef)(null);return(0,s.useEffect)(()=>{a&&l.current&&h.toCanvas(l.current,a,{width:200},e=>{e&&console.error("Error generating QR code:",e)})},[a]),(0,r.jsx)(d,{children:(0,r.jsxs)(u,{className:"space-y-4 pt-6",children:[(0,r.jsx)(v,{type:"text",placeholder:"Enter text or URL",value:e,onChange:e=>t(e.target.value),className:"w-full"}),(0,r.jsx)(y,{onClick:()=>{""!==e.trim()&&i(e)},className:"w-full",children:"Generate QR Code"}),a&&(0,r.jsx)("div",{className:"flex justify-center mt-4",children:(0,r.jsx)("canvas",{ref:l})})]})})}y.displayName="Button";var k=a(9801),R=a.n(k),C=a(520),_=a(875),S=a(2135),E=a(401);let z=C.fC;C.ZA;let A=C.B4,Z=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(C.xz,{ref:t,className:n("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[s,(0,r.jsx)(C.JO,{asChild:!0,children:(0,r.jsx)(_.Z,{className:"h-4 w-4 opacity-50"})})]})});Z.displayName=C.xz.displayName;let I=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(C.u_,{ref:t,className:n("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(S.Z,{className:"h-4 w-4"})})});I.displayName=C.u_.displayName;let V=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(C.$G,{ref:t,className:n("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(_.Z,{className:"h-4 w-4"})})});V.displayName=C.$G.displayName;let D=s.forwardRef((e,t)=>{let{className:a,children:s,position:i="popper",...l}=e;return(0,r.jsx)(C.h_,{children:(0,r.jsxs)(C.VY,{ref:t,className:n("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:i,...l,children:[(0,r.jsx)(I,{}),(0,r.jsx)(C.l_,{className:n("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(V,{})]})})});D.displayName=C.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(C.__,{ref:t,className:n("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=C.__.displayName;let F=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(C.ck,{ref:t,className:n("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...i,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(C.wU,{children:(0,r.jsx)(E.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(C.eT,{children:s})]})});F.displayName=C.ck.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(C.Z0,{ref:t,className:n("-mx-1 my-1 h-px bg-muted",a),...s})}).displayName=C.Z0.displayName;var O=a(3581),T=a(8867),G=a(2489);let U=(0,j.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),q=s.forwardRef((e,t)=>{let{className:a,variant:s,...i}=e;return(0,r.jsx)("div",{ref:t,role:"alert",className:n(U({variant:s}),a),...i})});q.displayName="Alert",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("h5",{ref:t,className:n("mb-1 font-medium leading-none tracking-tight",a),...s})}).displayName="AlertTitle";let H=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{ref:t,className:n("text-sm [&_p]:leading-relaxed",a),...s})});function Y(){let[e,t]=(0,s.useState)([]),[a,i]=(0,s.useState)([]),[l,n]=(0,s.useState)(""),[o,c]=(0,s.useState)(!1),[f,m]=(0,s.useState)(!1),[x,g]=(0,s.useState)(null),p=(0,s.useRef)(null),h=(0,s.useRef)(null),v=(0,s.useRef)(null);(0,s.useEffect)(()=>(b(),()=>N()),[]),(0,s.useEffect)(()=>{l&&j()},[l]);let b=async()=>{try{let e=(await navigator.mediaDevices.enumerateDevices()).filter(e=>"videoinput"===e.kind&&!!e.deviceId);console.log("Available cameras:",e),i(e),e.length>0&&!l&&n(e[0].deviceId)}catch(e){console.error("Error getting cameras:",e),g("Failed to get camera list. Please make sure you've granted camera permissions.")}},j=async()=>{console.log("Starting camera with deviceId:",l),N(),g(null);try{let e={video:{deviceId:l?{exact:l}:void 0}};console.log("Using constraints:",e);let t=await navigator.mediaDevices.getUserMedia(e);if(console.log("Stream obtained:",t),!a.length){b();return}h.current&&(h.current.srcObject=t,v.current=t,await h.current.play(),c(!0))}catch(e){console.error("Error accessing the camera:",e),g("Failed to access the camera. Please make sure you've granted camera permissions and that the camera is not in use by another application.")}},N=()=>{v.current&&(v.current.getTracks().forEach(e=>e.stop()),v.current=null),h.current&&(h.current.srcObject=null),c(!1)};(0,s.useEffect)(()=>{if(!o)return;let e=0,a=!0,r=s=>{if(!a||!h.current||!p.current)return;let i=h.current,l=p.current,n=l.getContext("2d");if(!n)return;if(i.readyState!==i.HAVE_ENOUGH_DATA||s-e<=200){requestAnimationFrame(r);return}e=s,l.height=i.videoHeight,l.width=i.videoWidth,n.drawImage(i,0,0,l.width,l.height);let d=n.getImageData(0,0,l.width,l.height),o=R()(d.data,d.width,d.height);if(o&&o.data){let e={id:Date.now().toString(),data:o.data};t(t=>t.some(t=>t.data===e.data)?t:[...t,e])}requestAnimationFrame(r)};return requestAnimationFrame(r),()=>{a=!1}},[o]);let w=e=>{t(t=>t.filter(t=>t.id!==e))},k=e=>{navigator.clipboard.writeText(e)};return(0,r.jsx)(d,{className:"w-full max-w-md mx-auto",children:(0,r.jsxs)(u,{className:"p-4 relative",children:[(0,r.jsxs)("div",{className:"space-y-4",children:[!!a.length&&(0,r.jsxs)(z,{value:l,onValueChange:e=>{n(e)},children:[(0,r.jsx)(Z,{children:(0,r.jsx)(A,{placeholder:"Select a camera"})}),(0,r.jsx)(D,{children:a.map(e=>(0,r.jsx)(F,{value:e.deviceId||"camera-".concat(e.deviceId),children:e.label||"Camera ".concat(e.deviceId)},e.deviceId))})]}),(0,r.jsxs)(y,{onClick:j,className:"w-full",children:[(0,r.jsx)(O.Z,{className:"mr-2 h-4 w-4"})," Start Camera"]}),x&&(0,r.jsx)(q,{variant:"destructive",children:(0,r.jsx)(H,{children:x})})]}),(0,r.jsxs)("div",{className:"qr-reader-container relative mt-4",children:[(0,r.jsx)("video",{ref:h,className:"w-full"}),(0,r.jsx)("canvas",{ref:p,className:"absolute top-0 left-0 w-full h-full",style:{display:"none"}}),(0,r.jsx)("div",{className:"absolute inset-0 bg-opacity-50",children:(0,r.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-white bg-opacity-90 transition-all duration-300 ease-in-out ".concat(f?"h-12":"max-h-64"),children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-2 border-b",children:[(0,r.jsx)("h3",{className:"font-semibold",children:"Scanned Results:"}),(0,r.jsx)(y,{variant:"ghost",size:"sm",onClick:()=>m(!f),children:f?(0,r.jsx)(S.Z,{className:"h-4 w-4"}):(0,r.jsx)(_.Z,{className:"h-4 w-4"})})]}),!f&&(0,r.jsx)("div",{className:"p-2 overflow-y-auto max-h-52 space-y-2",children:e.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between bg-white p-2 rounded-md shadow",children:[(0,r.jsx)("p",{className:"break-all mr-2 text-sm flex-grow",children:e.data}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(y,{variant:"ghost",size:"icon",onClick:()=>k(e.data),className:"mr-1",children:(0,r.jsx)(T.Z,{className:"h-4 w-4"})}),(0,r.jsx)(y,{variant:"ghost",size:"icon",onClick:()=>w(e.id),children:(0,r.jsx)(G.Z,{className:"h-4 w-4"})})]})]},e.id))})]})})]})]})})}function P(){let[e,t]=(0,s.useState)("generate");return(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-100 p-4",children:(0,r.jsxs)(d,{className:"w-full max-w-md",children:[(0,r.jsx)(o,{children:(0,r.jsx)(c,{className:"text-2xl font-bold text-center",children:"QR Code App"})}),(0,r.jsx)(u,{children:(0,r.jsxs)(m,{value:e,onValueChange:t,children:[(0,r.jsxs)(x,{className:"grid w-full grid-cols-2",children:[(0,r.jsx)(g,{value:"generate",children:"Generate"}),(0,r.jsx)(g,{value:"scan",children:"Scan"})]}),(0,r.jsx)(p,{value:"generate",children:(0,r.jsx)(w,{})}),(0,r.jsx)(p,{value:"scan",children:(0,r.jsx)(Y,{})})]})})]})})}H.displayName="AlertDescription"}},function(e){e.O(0,[664,469,971,117,744],function(){return e(e.s=7108)}),_N_E=e.O()}]);